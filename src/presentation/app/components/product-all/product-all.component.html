<div class="table-container">

  <button routerLink="/add-product">Agregar</button>
  <br>
  <input type="text" placeholder="Buscar productos..." [(ngModel)]="searchTerm" (input)="filterProducts()"
    class="form-control mb-3" />

  <div class="d-flex justify-content-between align-items-center mb-3">
    <table class="responsive-table">
      <thead>
        <tr>
          <th>Logo</th>
          <th>Nombre del Producto</th>
          <th>Descripción</th>
          <th>Fecha de Liberación</th>
          <th>Fecha de Restauración</th>
          <td>Acciones</td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <!-- <td><img [src]="product.logo" alt="Logo" class="logo-img" /></td> -->
          <td>{{ product.logo }}</td>
          <td>{{ product.name }}</td>
          <td>{{ product.description }}</td>
          <td>{{ product.date_release }}</td>
          <td>{{ product.date_revision }}</td>
          <td>
            <div class="dropdown">
              <button class="dropdown-toggle" type="button">
                Acciones
              </button>
              <div class="dropdown-menu">
                <a class="dropdown-item" (click)="editProduct(product)">Editar</a>
                <a class="dropdown-item" (click)="openModal(product)">Eliminar</a>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div>
      Mostrando {{ products.length }} de {{ totalItems }} registros
    </div>

    <div>
      <label for="itemsPerPage">Registros por página:</label>
      <select id="itemsPerPage" (change)="onItemsPerPageChange($event)" class="form-select">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="20">20</option>
      </select>
    </div>
  </div>

</div>


<!-- Modal -->
<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">
    <p>¿Está seguro de eliminar este "{{ selectedProduct?.name }}"?</p>
    <div class="modal-actions">
      <button (click)="confirmDelete()">Confirmar</button>
      <button (click)="closeModal()">Cancelar</button>
    </div>
  </div>
</div>